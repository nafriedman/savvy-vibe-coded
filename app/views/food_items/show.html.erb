<div class="container">
  <div class="header">
    <h1><%= @food_item.name %></h1>
    <div>
      <%= link_to "Back to List", food_items_path, class: "btn btn-secondary" %>
      <%= link_to "Edit", edit_food_item_path(@food_item), class: "btn btn-warning" %>
    </div>
  </div>

  <div class="detail-card">
    <div class="detail-row">
      <strong>Status:</strong>
      <span class="badge badge-<%= @food_item.status %>"><%= @food_item.status.humanize %></span>
    </div>

    <div class="detail-row">
      <strong>Food Type:</strong>
      <%= @food_item.food.name %>
    </div>

    <div class="detail-row">
      <strong>Category:</strong>
      <%= @food_item.food.category.humanize %>
    </div>

    <div class="detail-row">
      <strong>Quantity:</strong>
      <%= @food_item.quantity %> <%= @food_item.unit %>
    </div>

    <div class="detail-row">
      <strong>Storage Location:</strong>
      <%= @food_item.storage_location || 'Not specified' %>
    </div>

    <div class="detail-row">
      <strong>Expiration Date:</strong>
      <span class="<%= expiration_class(@food_item.expiration_date) %>">
        <%= @food_item.expiration_date.strftime('%B %d, %Y') %>
        (<%= days_until_expiration(@food_item.expiration_date) %>)
      </span>
    </div>

    <% if @food_item.purchase_date %>
      <div class="detail-row">
        <strong>Purchase Date:</strong>
        <%= @food_item.purchase_date.strftime('%B %d, %Y') %>
      </div>
    <% end %>

    <% if @food_item.cost %>
      <div class="detail-row">
        <strong>Cost:</strong>
        $<%= number_with_precision(@food_item.cost, precision: 2) %>
      </div>
    <% end %>

    <% if @food_item.notes.present? %>
      <div class="detail-row">
        <strong>Notes:</strong>
        <%= simple_format(@food_item.notes) %>
      </div>
    <% end %>

    <div class="detail-row">
      <strong>Created:</strong>
      <%= @food_item.created_at.strftime('%B %d, %Y at %I:%M %p') %>
    </div>

    <div class="detail-row">
      <strong>Last Updated:</strong>
      <%= @food_item.updated_at.strftime('%B %d, %Y at %I:%M %p') %>
    </div>
  </div>

  <% if @food_item.available? %>
    <div class="status-actions-large">
      <h3>Update Status</h3>
      <%= button_to "Mark as Consumed", update_status_food_item_path(@food_item, status: 'consumed'), method: :patch, class: "btn btn-success" %>
      <%= button_to "Mark as Thrown Out", update_status_food_item_path(@food_item, status: 'thrown_out'), method: :patch, class: "btn btn-secondary" %>
      <%= button_to "Mark as Given Away", update_status_food_item_path(@food_item, status: 'given_away'), method: :patch, class: "btn btn-secondary" %>
    </div>
  <% end %>

  <div class="danger-zone">
    <%= button_to "Delete Food Item", food_item_path(@food_item), method: :delete, data: { confirm: 'Are you sure you want to delete this food item?' }, class: "btn btn-danger" %>
  </div>
</div>
